<div class="gfm"><div class="highlight highlight-text-html-handlebars"><pre><span class="pl-c1">{{</span> <span class="pl-v">limit</span> ?? <span class="pl-e"><span class="pl-v">100</span></span> | <span class="pl-e"><span class="pl-v">assignTo</span></span>: <span class="pl-e"><span class="pl-v">limit</span></span> <span class="pl-c1">}}</span>

<span class="pl-c1">{{</span> <span class="pl-s"><span class="pl-pds">'</span>select Id, CompanyName, ContactName, ContactTitle, City, Country from Customer<span class="pl-pds">'</span></span> | <span class="pl-e"><span class="pl-v">assignTo</span></span>: <span class="pl-e"><span class="pl-v">sql</span></span> <span class="pl-c1">}}</span>

<span class="pl-c1">{{</span><span class="pl-c1">#if</span> !<span class="pl-e"><span class="pl-v">isEmpty</span></span>(<span class="pl-e"><span class="pl-v">PathArgs</span></span>)<span class="pl-c1">}}</span>
   <span class="pl-c1">{{</span> `${<span class="pl-e"><span class="pl-v">sql</span></span>} <span class="pl-e"><span class="pl-v">where</span></span> <span class="pl-e"><span class="pl-v">Id</span></span> = @<span class="pl-e"><span class="pl-v">id</span></span>` | <span class="pl-e"><span class="pl-v">dbSingle</span></span>({ <span class="pl-e"><span class="pl-v">id</span></span>: <span class="pl-e"><span class="pl-v">PathArgs</span></span>[<span class="pl-e"><span class="pl-v">0</span></span>] }) 
      | <span class="pl-e"><span class="pl-v">return</span></span> <span class="pl-c1">}}</span>
<span class="pl-c1">{{</span><span class="pl-c1">/if</span><span class="pl-c1">}}</span>

<span class="pl-c1">{{</span><span class="pl-c1">#if</span> <span class="pl-v">id</span><span class="pl-c1">}}</span>      <span class="pl-c1">{{</span> <span class="pl-s"><span class="pl-pds">'</span>Id = @id<span class="pl-pds">'</span></span>           | <span class="pl-e"><span class="pl-v">addTo</span></span>: <span class="pl-e"><span class="pl-v">filters</span></span> <span class="pl-c1">}}</span> <span class="pl-c1">{{</span><span class="pl-c1">/if</span><span class="pl-c1">}}</span>
<span class="pl-c1">{{</span><span class="pl-c1">#if</span> <span class="pl-v">city</span><span class="pl-c1">}}</span>    <span class="pl-c1">{{</span> <span class="pl-s"><span class="pl-pds">'</span>City = @city<span class="pl-pds">'</span></span>       | <span class="pl-e"><span class="pl-v">addTo</span></span>: <span class="pl-e"><span class="pl-v">filters</span></span> <span class="pl-c1">}}</span> <span class="pl-c1">{{</span><span class="pl-c1">/if</span><span class="pl-c1">}}</span>
<span class="pl-c1">{{</span><span class="pl-c1">#if</span> <span class="pl-v">country</span><span class="pl-c1">}}</span> <span class="pl-c1">{{</span> <span class="pl-s"><span class="pl-pds">'</span>Country = @country<span class="pl-pds">'</span></span> | <span class="pl-e"><span class="pl-v">addTo</span></span>: <span class="pl-e"><span class="pl-v">filters</span></span> <span class="pl-c1">}}</span> <span class="pl-c1">{{</span><span class="pl-c1">/if</span><span class="pl-c1">}}</span>

<span class="pl-c1">{{</span><span class="pl-c1">#if</span> !<span class="pl-e"><span class="pl-v">isEmpty</span></span>(<span class="pl-e"><span class="pl-v">filters</span></span>)<span class="pl-c1">}}</span>
  <span class="pl-c1">{{</span> `${<span class="pl-e"><span class="pl-v">sql</span></span>} <span class="pl-e"><span class="pl-v">WHERE</span></span> ${<span class="pl-e"><span class="pl-v">join</span></span>(<span class="pl-e"><span class="pl-v">filters</span></span>, <span class="pl-s"><span class="pl-pds">'</span> AND <span class="pl-pds">'</span></span>)}` | <span class="pl-e"><span class="pl-v">assignTo</span></span>: <span class="pl-e"><span class="pl-v">sql</span></span> <span class="pl-c1">}}</span>
<span class="pl-c1">{{</span><span class="pl-c1">/if</span><span class="pl-c1">}}</span>

<span class="pl-c1">{{</span> `${<span class="pl-e"><span class="pl-v">sql</span></span>} <span class="pl-e"><span class="pl-v">ORDER</span></span> <span class="pl-e"><span class="pl-v">BY</span></span> <span class="pl-e"><span class="pl-v">CompanyName</span></span> ${<span class="pl-e"><span class="pl-v">sqlLimit</span></span>(<span class="pl-e"><span class="pl-v">limit</span></span>)}` | <span class="pl-e"><span class="pl-v">assignTo</span></span>: <span class="pl-e"><span class="pl-v">sql</span></span> <span class="pl-c1">}}</span>

<span class="pl-c1">{{</span> <span class="pl-v">sql</span> | <span class="pl-e"><span class="pl-v">dbSelect</span></span>({ <span class="pl-e"><span class="pl-v">id</span></span>, <span class="pl-e"><span class="pl-v">city</span></span>, <span class="pl-e"><span class="pl-v">country</span></span> }) 
       | <span class="pl-e"><span class="pl-v">return</span></span> <span class="pl-c1">}}</span></pre></div>
</div>