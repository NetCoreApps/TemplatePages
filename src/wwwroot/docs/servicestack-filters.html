<!--
title: ServiceStack Filters
order: 12
-->

<p>
    The ServiceStack Filters provide integration with ServiceStack features that are already pre-registered in ServiceStack's 
    <em>TemplatePagesFeature</em> which are implemented in 
    <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/TemplateServiceStackFilters.cs">TemplateServiceStackFilters</a>.
</p>

<blockquote>
    See <a href="/docs/info-filters">Info Filters</a> for accessing the currently authenticated user.
</blockquote>

<style>
    h2 {
        padding: 0;
        margin: 0;
    }
</style>

<h3>sendToGateway</h3>

<p>
    <em>sendToGateway</em> lets you easily call any ServiceStack Service available through its 
    <a href="http://docs.servicestack.net/service-gateway">Service Gateway</a> which allows the same API to transparently
    <a href="http://docs.servicestack.net/service-gateway#service-integration-apis">call an In-Process or Remote Service</a>. 
</p>

<p>
    The example below calls this <em>QueryCustomers</em>
    <a href="http://docs.servicestack.net/autoquery-rdbms">AutoQuery RDBMS Service</a>, its entire implementation is below:
</p>

{{ 'gfm/servicestack-filters/01.md' | githubMarkdown }}

{{ 'examples/sendtogateway-customers.html' | includeFile | assignTo: template }}
{{ "live-template" | partial({ rows:11, template }) }}

<h3>publishToGateway</h3>

<p>
    <em>publishToGateway</em> is for sending OneWay requests with side-effects to <em>IReturnVoid</em> Services, e.g:
</p>

{{ 'gfm/servicestack-filters/02.md' | githubMarkdown }}

<h3 id="sendToAutoQuery-data">sendToAutoQuery</h3>

<p>
    The <em>sendToAutoQuery</em> filter makes requests directly against the <a href="http://docs.servicestack.net/autoquery">AutoQuery API</a>. 
    The <em>TemplateServiceStackFilters</em> only supports calling 
    <a href="http://docs.servicestack.net/autoquery-data">AutoQuery Data Services</a> as it's implementation is contained
    within the <a href="https://www.nuget.org/packages/ServiceStack">ServiceStack</a> NuGet package.
</p>

<p>
    <a href="http://docs.servicestack.net/autoquery-data">AutoQuery Data</a>
    is an open querying abstraction that supports multiple pluggable back-ends that enables rich querying of 
    <a href="http://docs.servicestack.net/autoquery-memory">In Memory</a> collections, 
    results from executed <a href="http://docs.servicestack.net/autoquery-service">ServiceStack Services</a> as well as 
    AWS <a href="http://docs.servicestack.net/autoquery-dynamodb">Dynamo DB</a> data stores. It also maintains the equivalent 
    external API and wire-format as <a href="http://docs.servicestack.net/autoquery-rdbms">AutoQuery RDBMS</a> Services
    which is how <a href="https://github.com/ServiceStack/Admin">AutoQuery Viewer</a> is able to transparently support 
    building custom queries for any AutoQuery Service.
</p>

<h4>GitHub AutoQuery Data Example</h4>

<p>
    For this example we'll register a <b>ServiceSource</b> which will call the 
    <a href="https://github.com/NetCoreApps/TemplatePages/blob/master/src/AutoDataQueryServices.cs">GetGithubRepos Service implementation</a>
    for any AutoQuery Data DTOs that query <em>GithubRepo</em> data sources: 
</p>

{{ 'gfm/servicestack-filters/03.md' | githubMarkdown }}

<p>
    This registration also specifies to cache the response of the <em>GetGithubRepos</em> Service in the registered 
    <a href="http://docs.servicestack.net/caching">Caching Provider</a> and operate on the cached data set for up to 
    <b>10 minutes</b> to mitigate GitHub API's rate-limiting. All that's remaining is to create the <em>QueryGitHubRepos</em> 
    Service by defining the Request DTO below and implement the backing
    <a href="https://github.com/NetCoreApps/TemplatePages/blob/master/src/AutoDataQueryServices.cs">GetGithubRepos Service</a>
    it calls which combines a number of GitHub API calls to fetch all Repo's for a GitHub User or Organization:
</p>

{{ 'gfm/servicestack-filters/04.md' | githubMarkdown }}

<p>
    That's all that's required to be able to query GitHub's User and Organization APIs, since they're just normal ServiceStack Services
    we could've used <em>sendToAutoQuery</em> to call <em>QueryGitHubRepos</em> but it would be limited to only being able to call properties
    explicitly defined on the Request DTO, whereas <em>sendToAutoQuery</em> executes against the <em>IAutoQueryData</em> API which 
    enables access to all <a href="http://docs.servicestack.net/autoquery-rdbms#implicit-conventions">Implicit Conventions</a> 
    and other Querying related functionality:
</p>

{{ 'examples/sendToAutoQuery-data.html' | includeFile | assignTo: template }}
{{ "live-template" | partial({ rows:6, template }) }}

<h3>AutoQuery RDBMS</h3>

<p>
    <a href="http://docs.servicestack.net/autoquery-rdbms">AutoQuery RDBMS</a> is implemented in the
    <a href="https://www.nuget.org/packages/ServiceStack.Server">ServiceStack.Server</a> NuGet package
    which you'll need to install along with the
    <a href="https://github.com/ServiceStack/ServiceStack.OrmLite#download">OrmLite NuGet package for your RDBMS</a>
    which can then be registered in the IOC with:
</p>

{{ 'gfm/servicestack-filters/05.md' | githubMarkdown }}
    
<p>
    AutoQuery can then be enabled by registering the <em>AutoQueryFeature</em> plugin:
</p>

{{ 'gfm/servicestack-filters/06.md' | githubMarkdown }}

<p>
    Which will let you start developing <a href="http://docs.servicestack.net/autoquery-rdbms">AutoQuery Services</a>.
    To then let your Templates to call AutoQuery Services directly, register the <em>TemplateAutoQueryFilters</em>:
</p>

{{ 'gfm/servicestack-filters/07.md' | githubMarkdown }}

<h4 id="sendToAutoQuery-rdbms">sendToAutoQuery</h4>

<p>
    As they share the same semantics and wire-format, you can use the same <b>sendToAutoQuery</b> filter name to call
    either AutoQuery Data or AutoQuery RDBMS Services which automatically gets routed to the appropriate implementation. 
    This also means that you can replace your implementation to from AutoQuery Data to RDBMS and vice-versa behind the
    scenes and your templates will continue to work untouched.
</p>

<p>
    For this example we'll re-use the same <em>QueryCustomers</em> AutoQuery Implementation that the 
    <a href="/docs/servicestack-filters#sendtogateway">sendToGateway</a> uses:
</p>

{{ 'gfm/servicestack-filters/08.md' | githubMarkdown }}

<p>
    But instead of being limited by explicit properties on the Request DTO 
    <em>sendToAutoQuery</em> extends the queryability of AutoQuery Services to enable querying all
    <a href="http://docs.servicestack.net/autoquery-rdbms#implicit-conventions">implicit conventions</a> as well:
</p>

{{ 'examples/sendToAutoQuery-rdms.html' | includeFile | assignTo: template }}
{{ "live-template" | partial({ rows:6, template }) }}

<p>
    See the Filters API Reference for the 
    <a href="/docs/filters-reference?tab=ss-filters">full list of ServiceStack filters available</a>.
</p>

{{ "doc-links" | partial({ order }) }}
